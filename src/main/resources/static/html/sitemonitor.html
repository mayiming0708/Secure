<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>AdminLTE 2 | Dashboard</title>
		<!-- Tell the browser to be responsive to screen width -->
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
		<!-- Bootstrap 3.3.7 -->
		<link rel="stylesheet" href="/static/css/bootstrap.min.css">
		<!-- Font Awesome -->
		<link rel="stylesheet" href="/static/font-awesome/css/font-awesome.min.css">
		<!-- Ionicons -->
		<link rel="stylesheet" href="/static/Ionicons/css/ionicons.min.css">
		<!-- Theme style -->
		<link rel="stylesheet" href="/static/css/AdminLTE.css">
		<!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
		<link rel="stylesheet" href="/static/css/_all-skins.css">
		<!-- Morris chart -->
		<!--<link rel="stylesheet" href="/static/css/morris.css">-->
		<link rel="stylesheet" href="/static/css/daterangepicker.css">
		<!-- bootstrap wysihtml5 - text editor -->
		<link rel="stylesheet" href="/static/css/bootstrap3-wysihtml5.min.css">
		<link rel="stylesheet" type="text/css" href="/static/css/dataTables.bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="/static/css/bootstrap-table.css" />
		<link rel="stylesheet" type="text/css" href="/static/css/bootstrap-select.min.css" />
		<!-- Google Font -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
		<link rel="stylesheet" type="text/css" href="/static/css/index.css" />

		<style>
			.sidebar .user-panel {
				display: none;
			}
			
			.sidebar .sidebar-form {
				display: none;
			}
			
			.sidebar-menu.tree li.header {
				display: none;
			}
			
			.temporary-task {
				margin-bottom: 20px;
				background: #fff;
				box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
				border-radius: 3px;
				height: 300px;
			}
			
			.temporary-task .title {
				line-height: 35px;
				padding: 0 10px;
				font-size: 20px;
				color: #444;
			}
			
			.pull-left.header .fa-inbox {
				color: lightseagreen;
			}
			
			.nav-tabs-custom {
				/*box-shadow: 0 0 2px rgba(0,0,0,0.3);*/
				border-radius: 10px;
			}
			
			#tempory-task .flow {
				margin-top: 18px;
				position: relative;
				display: inline-block;
				float: left;
			}
			
			#tempory-task .line {
				position: absolute;
				width: 2px;
				border-radius: 5px;
				height: 240px;
				background-color: lightblue;
				left: 78%;
			}
			
			#tempory-task .flow-img {
				display: inline-block;
				list-style-type: none;
				position: relative;
				z-index: 2;
			}
			
			#tempory-task .flow-img li {
				height: 78px;
			}
		</style>
	</head>

	<body class="hold-transition skin-blue sidebar-mini">
		<div class="wrapper">

			<header class="main-header">
				<!-- Logo -->
				<a href="#" class="logo">
					<!-- mini logo for sidebar mini 50x50 pixels -->
					<span class="logo-mini"><b>WE</b>B</span>
					<!-- logo for regular state and mobile devices -->
					<span class="logo-lg"><b>WEB</b>SOCK</span>
				</a>
				<!-- Header Navbar: style can be found in header.less -->
				<nav class="navbar navbar-static-top">
					<!-- Sidebar toggle button-->
					<a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
						<span class="sr-only">Toggle navigation</span>
					</a>

					<div class="navbar-custom-menu">
						<ul class="nav navbar-nav">
							<!-- Messages: style can be found in dropdown.less-->
							<li class="dropdown messages-menu">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">
									<i class="fa fa-envelope-o"></i>
									<span class="label label-success">4</span>
								</a>
								<ul class="dropdown-menu">
									<li class="header">You have 4 messages</li>
									<li>
										<!-- inner menu: contains the actual data -->
										<ul class="menu">
											<li>
												<!-- start message -->
												<a href="#">
													<div class="pull-left">
														<img src="/static/image/user2-160x160.jpg" class="img-circle" alt="User Image">
													</div>
													<h4>
                        Support Team
                        <small><i class="fa fa-clock-o"></i> 5 mins</small>
                      </h4>
													<p>Why not buy a new awesome theme?</p>
												</a>
											</li>
											<!-- end message -->
											<li>
												<a href="#">
													<div class="pull-left">
														<img src="/static/image/user2-160x160.jpg" class="img-circle" alt="User Image">
													</div>
													<h4>
                        AdminLTE Design Team
                        <small><i class="fa fa-clock-o"></i> 2 hours</small>
                      </h4>
													<p>Why not buy a new awesome theme?</p>
												</a>
											</li>
											<li>
												<a href="#">
													<div class="pull-left">
														<img src="/static/image/user2-160x160.jpg" class="img-circle" alt="User Image">
													</div>
													<h4>
                        Developers
                        <small><i class="fa fa-clock-o"></i> Today</small>
                      </h4>
													<p>Why not buy a new awesome theme?</p>
												</a>
											</li>
											<li>
												<a href="#">
													<div class="pull-left">
														<img src="/static/image/user2-160x160.jpg" class="img-circle" alt="User Image">
													</div>
													<h4>
                        Sales Department
                        <small><i class="fa fa-clock-o"></i> Yesterday</small>
                      </h4>
													<p>Why not buy a new awesome theme?</p>
												</a>
											</li>
											<li>
												<a href="#">
													<div class="pull-left">
														<img src="/static/image/user2-160x160.jpg" class="img-circle" alt="User Image">
													</div>
													<h4>
                        Reviewers
                        <small><i class="fa fa-clock-o"></i> 2 days</small>
                      </h4>
													<p>Why not buy a new awesome theme?</p>
												</a>
											</li>
										</ul>
									</li>
									<li class="footer">
										<a href="#">See All Messages</a>
									</li>
								</ul>
							</li>
							<!-- Notifications: style can be found in dropdown.less -->
							<li class="dropdown notifications-menu">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">
									<i class="fa fa-bell-o"></i>
									<span class="label label-warning">10</span>
								</a>
								<ul class="dropdown-menu">
									<li class="header">You have 10 notifications</li>
									<li>
										<!-- inner menu: contains the actual data -->
										<ul class="menu">
											<li>
												<a href="#">
													<i class="fa fa-users text-aqua"></i> 5 new members joined today
												</a>
											</li>
											<li>
												<a href="#">
													<i class="fa fa-warning text-yellow"></i> Very long description here that may not fit into the page and may cause design problems
												</a>
											</li>
											<li>
												<a href="#">
													<i class="fa fa-users text-red"></i> 5 new members joined
												</a>
											</li>
											<li>
												<a href="#">
													<i class="fa fa-shopping-cart text-green"></i> 25 sales made
												</a>
											</li>
											<li>
												<a href="#">
													<i class="fa fa-user text-red"></i> You changed your username
												</a>
											</li>
										</ul>
									</li>
									<li class="footer">
										<a href="#">View all</a>
									</li>
								</ul>
							</li>
							<!-- Tasks: style can be found in dropdown.less -->
							<li class="dropdown tasks-menu">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">
									<i class="fa fa-flag-o"></i>
									<span class="label label-danger">9</span>
								</a>
								<ul class="dropdown-menu">
									<li class="header">You have 9 tasks</li>
									<li>
										<!-- inner menu: contains the actual data -->
										<ul class="menu">
											<li>
												<!-- Task item -->
												<a href="#">
													<h3>
                        Design some buttons
                        <small class="pull-right">20%</small>
                      </h3>
													<div class="progress xs">
														<div class="progress-bar progress-bar-aqua" style="width: 20%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
															<span class="sr-only">20% Complete</span>
														</div>
													</div>
												</a>
											</li>
											<!-- end task item -->
											<li>
												<!-- Task item -->
												<a href="#">
													<h3>
                        Create a nice theme
                        <small class="pull-right">40%</small>
                      </h3>
													<div class="progress xs">
														<div class="progress-bar progress-bar-green" style="width: 40%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
															<span class="sr-only">40% Complete</span>
														</div>
													</div>
												</a>
											</li>
											<!-- end task item -->
											<li>
												<!-- Task item -->
												<a href="#">
													<h3>
                        Some task I need to do
                        <small class="pull-right">60%</small>
                      </h3>
													<div class="progress xs">
														<div class="progress-bar progress-bar-red" style="width: 60%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
															<span class="sr-only">60% Complete</span>
														</div>
													</div>
												</a>
											</li>
											<!-- end task item -->
											<li>
												<!-- Task item -->
												<a href="#">
													<h3>
                        Make beautiful transitions
                        <small class="pull-right">80%</small>
                      </h3>
													<div class="progress xs">
														<div class="progress-bar progress-bar-yellow" style="width: 80%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
															<span class="sr-only">80% Complete</span>
														</div>
													</div>
												</a>
											</li>
											<!-- end task item -->
										</ul>
									</li>
									<li class="footer">
										<a href="#">View all tasks</a>
									</li>
								</ul>
							</li>
							<!-- User Account: style can be found in dropdown.less -->
							<li class="dropdown user user-menu">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">
									<img src="/static/image/user2-160x160.jpg" class="user-image" alt="User Image">
									<span class="hidden-xs">Alexander Pierce</span>
								</a>
								<ul class="dropdown-menu">
									<!-- User image -->
									<li class="user-header">
										<img src="/static/image/user2-160x160.jpg" class="img-circle" alt="User Image">

										<p>
											Alexander Pierce - Web Developer
											<small>Member since Nov. 2012</small>
										</p>
									</li>
									<!-- Menu Body -->
									<li class="user-body">
										<div class="row">
											<div class="col-xs-4 text-center">
												<a href="#">Followers</a>
											</div>
											<div class="col-xs-4 text-center">
												<a href="#">Sales</a>
											</div>
											<div class="col-xs-4 text-center">
												<a href="#">Friends</a>
											</div>
										</div>
										<!-- /.row -->
									</li>
									<!-- Menu Footer-->
									<li class="user-footer">
										<div class="pull-left">
											<a href="#" class="btn btn-default btn-flat">Profile</a>
										</div>
										<div class="pull-right">
											<a href="#" class="btn btn-default btn-flat">Sign out</a>
										</div>
									</li>
								</ul>
							</li>
							<!-- Control Sidebar Toggle Button -->
							<li>
								<a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
							</li>
						</ul>
					</div>
				</nav>
			</header>
			<!-- Left side column. contains the logo and sidebar -->
			<aside class="main-sidebar">
				<!-- sidebar: style can be found in sidebar.less -->
				<section class="sidebar">
					<!-- Sidebar user panel -->
					<div class="user-panel">
						<div class="pull-left image">
							<img src="/static/image/user2-160x160.jpg" class="img-circle" alt="User Image">
						</div>
						<div class="pull-left info">
							<p>Alexander Pierce</p>
							<a href="#"><i class="fa fa-circle text-success"></i> Online</a>
						</div>
					</div>
					<!-- search form -->
					<form action="#" method="get" class="sidebar-form">
						<div class="input-group">
							<input type="text" name="q" class="form-control" placeholder="Search...">
							<span class="input-group-btn">
                <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                </button>
              </span>
						</div>
					</form>
					<!-- /.search form -->
					<!-- sidebar menu: : style can be found in sidebar.less -->
					<ul class="sidebar-menu" data-widget="tree">

						<li class="active">
							<a href="newIndex">
								<i class="fa fa-th"></i> <span>首页</span>
								<span class="pull-right-container">
					              <small class="label pull-right bg-green">new</small>
					            </span>
							</a>
						</li>
						<li>
							<a href="taskprogress">
								<i class="fa fa-calendar"></i> <span>下发任务</span>
								<span class="pull-right-container">
					              <small class="label pull-right bg-red">3</small>
					              <small class="label pull-right bg-blue">17</small>
					            </span>
							</a>
						</li>
						<li>
							<a href="sitemonitor">
								<i class="fa fa-calendar"></i> <span>网站监测</span>
								<span class="pull-right-container">
					              <small class="label pull-right bg-red">3</small>
					              <small class="label pull-right bg-blue">17</small>
					            </span>
							</a>
						</li>
					</ul>
				</section>
				<!-- /.sidebar -->
			</aside>

			<!-- Content Wrapper. Contains page content -->
			<div class="content-wrapper site-check">
				<div class="row">
					<section class="col-lg-12 title" style="display: none;">
						下发任务
					</section>
				</div>
				<div class="row">
					<div class="col-lg-12 task-search">
						<div class="panel panel-default">
							<div class="panel-heading">
								下发任务查询
							</div>
							<div class="panel-body">
								<div class="row">
									<div class="form-group col-sm-3 task-type-progress">
										<label for="name">任务类型:<p class="prompt"></p></label>
										<select name="task-type-choose">
											<option value="">--请选择--</option>
											<option value="临时任务">临时任务</option>
											<option value="周期任务">周期任务</option>
										</select>
									</div>
									<div class="form-group col-sm-3 task-time">
										<label for="name">任务下发时间:<p class="prompt"></p></label>
										<input type="text" id="datepicker">
									</div>
									<div class="form-group col-sm-3 pull-right text-right task-search-btn">
										<button type="button" id="resetBtn" class="btn btn-danger btnAll">重置</button>
										<button type="button" id="queryBtn" class="btn btn-warning btnAll">查询</button>
									</div>
								</div>
				
							</div>
						</div>
						<div class="row">
							<div class="col-lg-12">
								<div class="panel panel-default">
									<div class="panel-heading">
										任务列表
										<div class="pull-right">
											<button type="button" id="addBtn" class="btn btn-success btn-xs btnAll">新 增任务</button>
										</div>
									</div>
									<div class="panel-body">
										 <!--<div id="toolbar" class="btn-group">
								            <button id="btn_add" type="button" class="btn btn-default">
								                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
								            </button>
								            <button id="btn_edit" type="button" class="btn btn-default">
								                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改
								            </button>
								            <button id="btn_delete" type="button" class="btn btn-default">
								                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>删除
								            </button>
								        </div>-->
										<table class="table table-bordered table-striped table-condensed" id="site-check-table">
							            </table>
									</div>
								</div>
							</div>
						</div>
					</div>
				
				</div>
			</div>
			<footer class="main-footer">
				<div class="pull-right hidden-xs">
					<b>Version</b> 2.4.0
				</div>
				<strong>©2019 All right reserved. 陇ICP备18001310号-2</strong>
			</footer>
		</div>
		</div>
		<!-- ./wrapper -->

		<script src="/static/js/jquery.min.js"></script>
		<!-- jQuery UI 1.11.4 -->
		<script src="/static/js/jquery-ui.min.js"></script>
		<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
		<script>
			$.widget.bridge('uibutton', $.ui.button);
		</script>
		<!-- Bootstrap 3.3.7 -->
		<script src="/static/js/bootstrap.min.js"></script>
		<!-- daterangepicker -->
		<script src="/static/js/moment.min.js"></script>
		<script src="/static/js/daterangepicker.js"></script>
		<!-- datepicker -->
		<script src="/static/js/bootstrap-datepicker.min.js"></script>
		<!-- Bootstrap WYSIHTML5 -->
		<script src="/static/js/bootstrap3-wysihtml5.all.min.js"></script>
		<!-- Slimscroll -->
		<script src="/static/js/jquery.slimscroll.min.js"></script>
		<!-- FastClick -->
		<script src="/static/js/fastclick.js"></script>
		<!--表格插件-->
		<script src="/static/js/jquery.dataTables.min.js" type="text/javascript" charset="utf-8"></script>
		<!--<script src="/static/js/dataTables.bootstrap.min.css" type="text/javascript" charset="utf-8"></script>-->
		<!-- AdminLTE App -->
		<script src="/static/js/adminlte.min.js"></script>
		<script src="/static/js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="/static/js/bootstrap-table.js" type="text/javascript" charset="utf-8"></script>
		<script src="/static/js/bootstrap-table-zh-CN.js" type="text/javascript" charset="utf-8"></script>
		<script src="/static/js/bootstrap-select.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="/static/js/common.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			//网站监测table
			var tableSite = $("#site-check-table");
			$(function(){
				siteCheck();
			})
			//网站表初始化
			function siteCheck(){
				tableSite.bootstrapTable('destroy');
				tableSite.bootstrapTable({
					//gau请求地址,此处数据为本地加载
					url: "/static/json/tableSite.json",
					//请求方式
					method: "GET",
					//table高度：如果没有设置，表格自动根据记录条数觉得表格高度
					//	    	height: '582',
					//是否显示行间隔色
					toolbar: '#toolbar', //工具按钮用哪个容器
					striped: true, //是否显示行间隔色
					cache: false, //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
					pagination: true, //是否显示分页（*）
					sortable: false, //是否启用排序
					sortOrder: "asc", //排序方式
					//          queryParams: oTableInit.queryParams,//传递参数（*）
					sidePagination: "server", //分页方式：client客户端分页，server服务端分页（*）
					pageNumber: 1, //初始化加载第一页，默认第一页
					pageSize: 10, //每页的记录行数（*）
					pageList: [10, 25, 50, 100], //可供选择的每页的行数（*）
					search: true, //是否显示表格搜索，此搜索是客户端搜索，不会进服务端，所以，个人感觉意义不大
					strictSearch: true,
					showColumns: true, //是否显示所有的列
					showRefresh: true, //是否显示刷新按钮
					minimumCountColumns: 2, //最少允许的列数
					clickToSelect: true, //是否启用点击选中行
					//          height: 500,                        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
					uniqueId: "ID", //每一行的唯一标识，一般为主键列
					showToggle: true, //是否显示详细视图和列表视图的切换按钮
					cardView: false, //是否显示详细视图
					detailView: false,
					//表头
						columns: [{
						title: '站点',
						field: 'site', //id
						//	    		checkbox: true, //checkbox
						align: 'center', //对其方式
						valign: 'middle' //对其方式
					}, {
						title: '风险值',
						field: 'faq',
						align: 'center',
						valign: 'middle',
					}, {
						title: '暗链',
						field: 'black_links',
						align: 'center',
						valign: 'middle'
					}, {
						title: '挂马',
						field: 'malscan',
						align: 'center',
						valign: 'middle'
					}, {
						title: '关键词',
						field: 'keyword',
						align: 'center',
						valign: 'middle'
					}, {
						title: 'SQL注入漏洞',
						field: 'sql',
						align: 'center',
						valign: 'middle'
					}, {
						title: 'XSS跨站脚本漏洞',
						field: 'xss',
						align: 'center',
						valign: 'middle',
					}, {
						title: '应用漏洞',
						field: 'webvul',
						align: 'center',
						valign: 'middle'
					}, {
						title: '信息泄露',
						field: 'info_leak',
						align: 'center',
						valign: 'middle'
					}, {
						title: 'CGI漏洞',
						field: 'cgi',
						align: 'center',
						valign: 'middle'
					}, {
						title: 'CSRF跨站请求伪造漏洞',
						field: 'csrf',
						align: 'center',
						valign: 'middle'
					}, {
						title: '表单破解漏洞',
						field: 'form_crack',
						align: 'center',
						valign: 'middle'
					},{
			    		title:"任务ID",
			    		field:"task_id",
			    		align: 'center',
						valign: 'middle'
			    	},{
			    		title:"操作",
			    		field:"Button",
			    		events:"operateEvents",
			    		formatter:"AddFunctionAlty",
			    		align: 'center',
						valign: 'middle'
			    	}],
					onLoadSuccess: function(res) { //可不写
						//加载成功时
						console.log(res);
					},
					onLoadError: function(statusCode) {
						return "加载失败了"
					},
					formatLoadingMessage: function() {
						//正在加载
						return "拼命加载中...";
					},
					formatNoMatches: function() {
						//没有匹配的结果
						return '无符合条件的记录';
					}
				})
			}
			
				//创建按钮并给按钮添加事件
		function AddFunctionAlty(value,row,index){
			return [
			'<button id="detailBtn" type="button" class="btn  btn-warning">查看详情</button>'
			];
		}
		window.operateEvents={
			"click #detailBtn":function(e,value,row,index){
				//跳转到漏洞详情页
				window.location.href="sitedetail";
			}
		}
		</script>
	</body>

</html>